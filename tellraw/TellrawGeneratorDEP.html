<html>
    <link rel="stylesheet" href="TellrawGenerator.css">
    <script type="text/javascript" src="TellrawGenerator.js"></script>
    <script type="text/javascript" src="ExplanationToggles.js"></script>
    <script type="text/javascript" src="General.js"></script>
    <script type="text/javascript" src="Colors.js"></script>
    <head>
        <title>Tellraw Generator</title>
        <link rel="icon" href="Images/icon2.png">
    </head>
    <body onload="//Initialize();" onresize="//RecalculateOutput();">
        <div class="whiteout"></div>
        <div class="page-wrapper">
            <!--Image storage for canvases (prevents security issues when getting ImageData on chrome and edge)-->
            <div style="position: absolute; left: -50px;" id="image-holder">
                <img id="enchanted00" src="Images/Enchanted00.PNG">
                <br>
                <img id="enchanted01" src="Images/Enchanted01.PNG">
                <br>
                <img id="enchanted02" src="Images/Enchanted02.PNG">
                <br>
                <img id="enchanted03" src="Images/Enchanted03.PNG">
                <br>
                <img id="enchanted04" src="Images/Enchanted04.PNG">
                <br>
                <img id="enchanted05" src="Images/Enchanted05.PNG">
                <br>
                <img id="enchanted06" src="Images/Enchanted06.PNG">
            </div>

            <h1 style="display: inline-block;">
                Tellraw Generator
            </h1>
            <a style="display:inline-block;" onclick="ToggleExp(2, event)">show explanation</a>
            <p class="hidden" id="2">Type in the box below and click on the options further below to create colorful text. Then click the submit button to generate the /tellraw command for the text you entered. Note that Minecraft does not accept all characters, and this generator does not prevent you from typing invalid Minecraft characters, so be sure to test each one. Also note that "enters" (or newline characters) cannot be created in 1 /tellraw command, so multiple commands will be output upon submitting text with newline characters.<br><br>Note that highlighting text, then clicking and dragging that selection around is not supported and will create issues with this system.</p>
            <label>
                <strong>
                Input text to be converted to a tellraw command:
                </strong>
                <p id="obfWarning" style="display: none; color: #ffff55;"> WARNING: performance decreased from obfuscated text. <a onclick="ToggleObfuscatedAnimation()">Toggle Animation</a></p>
            </label>
            <textarea id="input" onclick="UpdateinputIndex(event)" onselect="UpdateSelectionVars(event)" oninput="UpdateInput(event)" onmousedown="UpdateinputIndex(event)" onkeyup="OnlyIfArrows(event)"></textarea>
            <!--UI Options-->
            <div class="button selected task">
                <button onclick="Select(event, 'task', 'content', 'single-tellraw')">
                    Single Tellraw Output
                </button>
            </div>
            <div class="button task">
                <button onclick="Select(event, 'task', 'content', 'full-dialogue')">
                    Full Dialogue Output
                </button>
            </div>
            <div class="button task">
                <button onclick="Select(event, 'task', 'content', 'decode-tellraw')">
                    Input /tellraw Code
                </button>
            </div>
            <!--Single Tellraw Options-->
            <div class="content hidden" id="full-dialogue">
                <p>Full Dialogue</p>
            </div>
            <div class="content hidden" id="decode-tellraw">
                <p>Decode Tellraw</p>
            </div>
            <div class="content" id="single-tellraw">
                <a onclick="ShowHide(7, event)" style="float: right; margin-top:19px; padding-right: 19px">hide</a>
                <div style="display:block;""></div>
                <label style="padding-top: 25px;">
                    Current Output:
                </label>
                <!--<p id="cursor" style="position: relative; top: 35px; font-size: 30px; height: 0px; margin-top: -20px;">|</p>-->
                <div id="7">
                <div class="current-output"></div>
                <div class="button">
                    <button onclick="Submit()">
                        Submit
                    </button>
                </div>
                </div>
                <div style="display: inline-block;" id="click-notification-box"></div>
                <div style="display:block;"></div>
                <h2>Colors</h2>
                <a onclick="ToggleExp(1, event)">show explanation</a>
                <a onclick="ShowHide(5, event)" style="float: right; margin-top:38px; padding-right: 19px">hide</a>
                <div style="display:block;""></div>
                <p class="hidden" id="1">Click one of the colors below before typing to change what color your text will be. Highlight part of your entry above and then click a color to change that highlighted text. Your current color is outlined below.</p>
                <div id="5">
                <table>
                    <tr>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('red', event)" style="color: #ff5555">
                                    Red
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('yellow', event)" style="color: #ffff55">
                                    Yellow
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('green', event)" style="color: #55ff55">
                                    Green
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('blue', event)" style="color: #5555ff">
                                    Blue
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('aqua', event)" style="color: #55ffff">
                                    Aqua
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('light_purple', event)" style="color: #ff55ff">
                                    Light Purple
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('gray', event)" style="color: #aaaaaa">
                                    Gray
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color selected-color">
                                <button onclick="Color('white', event)" style="color: #ffffff">
                                    White
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_red', event)"  style="color: #AA0000">
                                    Dark Red
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('gold', event)" style="color: #ffaa00">
                                    Gold
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_green', event)" style="color: #00aa00">
                                    Dark Green
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_blue', event)" style="color: #0000aa">
                                    Dark Blue
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_aqua', event)" style="color: #00aaaa">
                                    Dark Aqua
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_purple', event)" style="color: #aa00aa">
                                    Dark Purple
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('dark_gray', event)" style="color: #555555">
                                    Dark Gray
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option color">
                                <button onclick="Color('black', event)" style="color: #000000">
                                    Black
                                </button>
                            </div>
                        </td>
                    </tr>
                </table>
                </div>
                <h2>
                    Events
                </h2>
                <a onclick="ToggleExp(3, event)">show explanation</a>
                <a onclick="ShowHide(6, event)" style="float: right; margin-top:38px; padding-right: 19px">hide</a>
                <div style="display:block;""></div>
                <p class="hidden" id="3">First enter the desired command or text in the Click Event and Hover Event's boxes respectively. Then highlight a part of your input above, and click the buttons below to add that event to that part of the text (you can remove events in the same way). Alternatively, you can position your cursor at colored text, and that grouping of colored text will recieve the event. You can edit events by moving your cursor to text with an event, modifiying the event inputs, and then re-clicking the button to add an event (no highlight required). You can preview the events by clicking or hovering over the text in the "Current Output" box below. Note that a piece of text can have 1 click event and/or 1 hover event. Note that commands input to the click event field are NOT checked for Minecraft syntax errors.</p>
                <div style="display: block;"></div>
                <div id="6">
                <table>
                    <tr>
                        <td>
                            <div class="button" style="width: 95%;">
                                <button style="width: 100%;" onclick="AddClickEvent()">
                                    Add Click Event
                                </button>
                            </div>
                        </td>
                        <td>
                            <label style="margin-top: -30px">
                                Input Valid Minecraft Command for Click Event to Execute:
                            </label>
                            <input class="textarea" id="click-event-input" style="width: 100%;"></textarea>
                        </td>
                        <td>
                            <div class="button" style="width: 95%;">
                                <button style="width: 100%;" onclick="RemoveClickEvent()">
                                    Remove
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="button" style="width: 95%;" onclick="AddHoverEvent()">
                                <button style="width: 100%;">
                                    Add Hover Event
                                </button>
                            </div>
                        </td>
                        <td>
                            <label style="margin-top: -30px">
                                Input Text for Hover Event to Display:
                            </label>
                            <input class="textarea" id="hover-event-input" style="width: 100%;"></textarea>
                        </td>
                        <td>
                            <div class="button" style="width: 95%;">
                                <button style="width: 100%;" onclick="RemoveHoverEvent()">
                                    Remove
                                </button>
                            </div>
                        </td>
                    </tr>
                </table>
                <div class="checkbox" onclick="TransferCheckboxClick('click-checkbox')">
                    <input id="click-checkbox" type="checkbox" class="click" onclick="HighlightClickEvents();" onmouseover="overridecCheckboxClick = true;" onmouseleave="overridecCheckboxClick = false;">
                </div>
                <p class="check-text" style="color: darkgray; text-shadow: 3px 3px black; cursor: pointer;" onclick="TransferCheckboxClick('click-checkbox')" onmouseover="TransferCheckboxStyling('click-checkbox', true);" onmouseleave="TransferCheckboxStyling('click-checkbox', false);">Highlight Click Events in Output Frame</p>
                <div class="checkbox" onclick="TransferCheckboxClick('hover-checkbox');">
                    <input id="hover-checkbox" type="checkbox" onclick="HighlightHoverEvents();" onmouseover="overridecCheckboxClick = true;" onmouseleave="overridecCheckboxClick = false;">
                </div>
                <p class="check-text" style="color: darkgray; text-shadow: 3px 3px black; cursor: pointer;" onclick="TransferCheckboxClick('hover-checkbox')" onmouseover="TransferCheckboxStyling('hover-checkbox', true);" onmouseleave="TransferCheckboxStyling('hover-checkbox', false);">Highlight Hover Events in Output Frame</p>
                </div>
                <div style="display:block"></div>
                <h2>
                    Special Formatting
                </h2>
                <a onclick="ToggleExp(4, event);">show explanation</a>
                <a onclick="ShowHide(8, event)" style="float: right; margin-top:38px; padding-right: 19px">hide</a>
                <p class="hidden" id="4">Highlight part of your input and then click the below buttons to add desired special formatting. You can remove formatting in the same way. If you do not highlight, the formatting will be applied to (or removed from) the colored text that your cursor was on or any consecutive characters with the same formatting. Note that the enchanted text and obfuscated text (the 2 right-most options) are inacurate to Minecraft, as there is a 1-to-1 translation in-game and a different randomization algorithm respectively. Current formatting for the text your cursor is on is highlighted below. You cannot remove the "No Formatting" format unless you add a format.</p>
                <div id="8">
                <table>
                    <tr>
                        <td>
                            <div class="button option formatting selected-format">
                                <button title="Clear Formatting" onclick="ClearFormatting(event);">
                                    No Formatting
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting">
                                <button style="font-weight: 900;" title="Bold Formatting" onclick="AddFormat(event, 0);">
                                    Bold
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting">
                                <button style="font-style: italic;" title="Italic Formatting" onclick="AddFormat(event, 1);">
                                    Italic
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting">
                                <button style="text-decoration: underline;" title="Underline Formatting" onclick="AddFormat(event, 2);">
                                    Underline
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting">
                                <button style="text-decoration: line-through;" title="Strikethrough Formatting" onclick="AddFormat(event, 3);">
                                    Strikethrough
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting obfuscated">
                                <button onclick="AddFormat(event, 4);">
                                    <img src="Images\OfficialObfusscatedTransparent.gif" alt="Obfuscated Formatting" title="Obfuscated Formatting" style="height: 23px; padding: 0px;">
                                    <!--
                                        Each individual characer GIF: - Note that characters should be 18.02px across and 34px high
                                        1.  https://i.imgur.com/EvFpeRZ.gif
                                        2.  https://i.imgur.com/McVPHnf.gif
                                        3.  https://i.imgur.com/3k27gCD.gif
                                        4.  https://i.imgur.com/AUepQ5Q.gif
                                        5.  https://i.imgur.com/UowPVU1.gif
                                        6.  https://i.imgur.com/H95pFo7.gif
                                        7.  https://i.imgur.com/VpMWtC0.gif
                                        8.  https://i.imgur.com/VFwdKtQ.gif
                                        9.  https://i.imgur.com/9LQNq6Z.gif
                                        10. https://i.imgur.com/0YuzFwY.gif

                                    -->
                                </button>
                            </div>
                        </td>
                        <td>
                            <div class="button option formatting">
                                <button onclick="AddFormat(event, 5);"> <!--Note that the tellraw for this is "font":"minecraft:alt"-->
                                    <img src="Images\Minecraft Alt Text.PNG" alt="Enchanted Formatting" title="Enchanted Formatting" style="height: 15px; padding: 4px;"></img>
                                </button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="display: block;"></div>
            </div>
            <label style="padding-top: 25px;" class="hidden">
                Current Dialogue:
            </label>
            <label style="padding-top: 25px;">
                Tellraw Output:
            </label>
            <input class="tellraw-output">
            <table>
                <tr>
                    <td style="width: 20%;">
                        <div class="button">
                            <button>
                                Copy to Clipboard
                            </button>
                        </div>
                    </td>
                    <td style="width: 25%;">
                        <div class="button">
                            <button>
                                Download MCFUNCTION File
                            </button>
                        </div>
                    </td>
                    <td style="padding-left: 10px;">
                        <p>Pro Tip: This output is editable if you need a specific target or need this executed as a certain entity, and your edits will update the MCFUNCTION file as well (edits here are not checked for Minecraft Syntax errors).</p>
                    </td>
                </tr>
            </table>
            <table>
                <tr>
                    <td style="padding: 0px 50px;">
                        <img src="Images\250px-Dancing_Blue_Parrot.gif" style="width: 100px;">
                    </td>
                    <td>
                        <p style="padding-right: 20px;">Bug Reports? Suggestions? General Comments? #0000FF and Twined_Rope want to hear about it! Post on the forum where you found this tool or email me at Twined_Rope@gmail.com.</p>
                    </td>
                    <td style="padding: 0px 50px;">
                        <img src="Images\Twined_Rope Head.png" style="width: 100px;">
                    </td>
                </tr>
                <tr>
                    <td style="padding: 0px 50px;">
                        <p>#000FF</p>
                    </td>
                    <td>

                    </td>
                    <td style="padding: 0px 50px;">
                        <p>Twined_Rope</p>
                    </td>
                </tr>
            </table>
        </div>
    </body>
</html>